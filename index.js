// require('dotenv').config();
// const { Telegraf } = require('telegraf');
// const fs = require('fs');
// const axios = require('axios');

// const bot = new Telegraf(process.env.BOT_TOKEN);
// const templates = JSON.parse(fs.readFileSync('templates.json', 'utf-8'));

// function findAnswer(msg) {
//   const lower = msg.toLowerCase();
//   for (const t of templates) {
//     if (lower.includes(t.key.toLowerCase())) {
//       return t.value;
//     }
//   }
//   return null; // –µ–≥–µ—Ä —Ç–∞–±—ã–ª–º–∞—Å–∞
// }

// async function askGPT(question) {
//   const res = await axios.post(
//     'https://api.openai.com/v1/chat/completions',
//     {
//       model: 'gpt-3.5-turbo',
//       messages: [
//         { role: 'system', content: '–°–µ–Ω —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç —Ç—É—Ä–∞–ª—ã –∞“õ–ø–∞—Ä–∞—Ç –±–µ—Ä–µ—Ç—ñ–Ω –∫”©–º–µ–∫—à—ñ –±–æ—Ç—Å—ã“£.' },
//         { role: 'user', content: question }
//       ]
//     },
//     {
//       headers: {
//         'Authorization': `Bearer ${process.env.OPENAI_API_KEY}`,
//         'Content-Type': 'application/json'
//       }
//     }
//   );
//   return res.data.choices[0].message.content.trim();
// }

// bot.start((ctx) => ctx.reply("–°”ô–ª–µ–º! –ú–µ–Ω —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç —Ç—É—Ä–∞–ª—ã —Å“±—Ä–∞“õ—Ç–∞—Ä“ì–∞ –∂–∞—É–∞–ø –±–µ—Ä–µ–º."));
// bot.help((ctx) => ctx.reply("–°“±—Ä–∞“õ “õ–æ–π: “ö“±–∂–∞—Ç—Ç–∞—Ä “õ–∞–Ω–¥–∞–π? –ì—Ä–∞–Ω—Ç –±–∞—Ä –º–∞? —Ç.—Å.—Å."));
// bot.on('text', async (ctx) => {
//   const userText = ctx.message.text;
//   const answer = findAnswer(userText);

//   if (answer) {
//     ctx.reply(answer);
//   } else {
//     ctx.reply("*** –ú–µ–Ω –±“±–ª —Å“±—Ä–∞“õ“õ–∞ –∂–∞—É–∞–ø –±–µ—Ä–µ –∞–ª–º–∞–π–º—ã–Ω, ”©–π—Ç–∫–µ–Ω—ñ –æ–Ω–¥–∞ '–•–∞–ª–µ–ª –î–æ—Å–º“±—Ö–∞–º–µ–¥–æ–≤ –∞—Ç—ã–Ω–¥–∞“ì—ã –ê—Ç—ã—Ä–∞—É —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç—ñ' –ö–ï–ê“ö —Ç—É—Ä–∞–ª—ã –Ω–∞“õ—Ç—ã –∞“õ–ø–∞—Ä–∞—Ç –∂–æ“õ *** –Ø –Ω–µ –º–æ–≥—É –æ—Ç–≤–µ—Ç–∏—Ç—å –Ω–∞ —ç—Ç–æ—Ç –≤–æ–ø—Ä–æ—Å, —Ç–∞–∫ –∫–∞–∫ –æ–Ω –Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ù–ê–û '–ê—Ç—ã—Ä–∞—É—Å–∫–∏–π —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç –∏–º–µ–Ω–∏ –•–∞–ª–µ–ª–∞ –î–æ—Å–º—É—Ö–∞–º–µ–¥–æ–≤–∞' ***");
//     try {
//       const aiAnswer = await askGPT(userText);
//       ctx.reply(aiAnswer);
//     } catch (err) {
//       ctx.reply("*** –°“±—Ä–∞“ì—ã“£—ã–∑–¥—ã “õ–∞–π—Ç–∞–ª–∞“£—ã–∑ –Ω–µ–º–µ—Å–µ “õ–æ—Å—ã–º—à–∞ –º”ô–ª—ñ–º–µ—Ç—Ç–µ—Ä –±–µ—Ä—ñ“£—ñ–∑ ***  –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–µ—Ä–µ—Ñ—Ä–∞–∑–∏—Ä—É–π—Ç–µ —Å–≤–æ–π –≤–æ–ø—Ä–æ—Å –∏–ª–∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤—å—Ç–µ –±–æ–ª—å—à–µ –¥–µ—Ç–∞–ª–µ–π ***");
//       console.error(err);
//     }
//   }
// });

// bot.launch();
// console.log("‚úÖ Telegram AI-–±–æ—Ç —ñ—Å–∫–µ “õ–æ—Å—ã–ª–¥—ã");


require('dotenv').config();
const { Telegraf, Markup } = require('telegraf');
const fs = require('fs');
const axios = require('axios');

// --- –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è ---
const BOT_TOKEN = process.env.BOT_TOKEN;
const GEMINI_API_KEY = process.env.GEMINI_API_KEY;
const KNOWLEDGE_FILE = 'system.txt';

if (!BOT_TOKEN || !GEMINI_API_KEY) {
    console.error("“ö–∞—Ç–µ: BOT_TOKEN –Ω–µ–º–µ—Å–µ GEMINI_API_KEY .env —Ñ–∞–π–ª—ã–Ω–¥–∞ –∫”©—Ä—Å–µ—Ç—ñ–ª–º–µ–≥–µ–Ω.");
    process.exit(1);
}

const bot = new Telegraf(BOT_TOKEN);

// --- –ü–∞–π–¥–∞–ª–∞–Ω—É—à—ã —Ç—ñ–ª—ñ –º–µ–Ω –∫–æ–Ω—Ç–µ–∫—Å—Ç—ñ–Ω —Å–∞“õ—Ç–∞—É ---
const userLanguage = new Map();
const userContext = new Map();

// --- –ë—ñ–ª—ñ–º –±–∞–∑–∞—Å—ã–Ω –æ“õ—É ---
let knowledgeBase = '';
try {
    knowledgeBase = fs.readFileSync(KNOWLEDGE_FILE, 'utf-8');
    console.log(`‚úÖ '${KNOWLEDGE_FILE}' —Ñ–∞–π–ª—ã–Ω–∞–Ω –±–∞–∑–∞ –∑–Ω–∞–Ω–∏–π —Å”ô—Ç—Ç—ñ –æ“õ—ã–ª–¥—ã.`);
} catch (error) {
    console.error(`“ö–∞—Ç–µ: '${KNOWLEDGE_FILE}' —Ñ–∞–π–ª—ã–Ω –æ“õ—É –º“Ø–º–∫—ñ–Ω –±–æ–ª–º–∞–¥—ã.`);
    process.exit(1);
}

// --- Gemini API ---
async function askGemini(question, lang = 'kk') {
    const systemPrompt = `
–°–µ–Ω ‚Äî –•–∞–ª–µ–ª –î–æ—Å–º“±—Ö–∞–º–µ–¥–æ–≤ –∞—Ç—ã–Ω–¥–∞“ì—ã –ê—Ç—ã—Ä–∞—É —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç—ñ–Ω—ñ“£ —Å—Ç—É–¥–µ–Ω—Ç—Ç–µ—Ä—ñ–Ω–µ –∫”©–º–µ–∫—Ç–µ—Å–µ—Ç—ñ–Ω AI-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç—Å—ñ“£.
–°–µ–Ω —Ç–µ–∫ —Ç”©–º–µ–Ω–¥–µ –±–µ—Ä—ñ–ª–≥–µ–Ω –±–∞–∑–∞ –∑–Ω–∞–Ω–∏–π –Ω–µ–≥—ñ–∑—ñ–Ω–¥–µ –∂–∞—É–∞–ø –±–µ—Ä.
”®–∑—ñ“£–Ω–µ–Ω –µ—à—Ç–µ“£–µ “õ–æ—Å–ø–∞. –ï–≥–µ—Ä –∂–∞—É–∞–ø –±–∞–∑–∞–¥–∞ –∂–æ“õ –±–æ–ª—Å–∞, "${lang === 'kk' ? '–ö–µ—à—ñ—Ä—ñ“£—ñ–∑, –±“±–ª —Å“±—Ä–∞“õ –±–æ–π—ã–Ω—à–∞ –º–µ–Ω–¥–µ –Ω–∞“õ—Ç—ã –∞“õ–ø–∞—Ä–∞—Ç –∂–æ“õ' : lang === 'ru' ? '–ò–∑–≤–∏–Ω–∏—Ç–µ, –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –ø–æ —ç—Ç–æ–º—É –≤–æ–ø—Ä–æ—Å—É –Ω–µ—Ç' : 'Sorry, I don‚Äôt have information on that'}" –¥–µ–ø –∂–∞—É–∞–ø –±–µ—Ä.
–ü–∞–π–¥–∞–ª–∞–Ω—É—à—ã–Ω—ã“£ —Ç—ñ–ª—ñ–Ω–¥–µ (${lang}) –∂–∞—É–∞–ø –±–µ—Ä.

--- –ë–ê–ó–ê –ó–ù–ê–ù–ò–ô ---
${knowledgeBase}
--- –ë–ê–ó–ê –ó–ù–ê–ù–ò–ô –°–û“¢–´ ---
`;

    const API_URL = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-lite:generateContent?key=${GEMINI_API_KEY}`;
    const payload = {
        contents: [{ parts: [{ text: question }] }],
        systemInstruction: { parts: [{ text: systemPrompt }] }
    };

    try {
        const response = await axios.post(API_URL, payload, {
            headers: { 'Content-Type': 'application/json' }
        });

        if (response.data.candidates?.[0]?.content?.parts?.[0]?.text) {
            return response.data.candidates[0].content.parts[0].text.trim();
        }
        throw new Error("API –∂–∞—É–∞–±—ã–Ω–¥–∞ –º–∞–∑–º“±–Ω —Ç–∞–±—ã–ª–º–∞–¥—ã.");
    } catch (error) {
        console.error("Gemini API “õ–∞—Ç–µ—Å—ñ:", error.response ? error.response.data : error.message);
        throw new Error("Gemini API-–º–µ–Ω –±–∞–π–ª–∞–Ω—ã—Å—É –∫–µ–∑—ñ–Ω–¥–µ “õ–∞—Ç–µ –ø–∞–π–¥–∞ –±–æ–ª–¥—ã.");
    }
}

// --- –ú”ô–∑—ñ—Ä–¥—ñ –∫”©—Ä—Å–µ—Ç—É —Ñ—É–Ω–∫—Ü–∏—è—Å—ã ---
function showMainMenu(ctx, lang) {
    const menus = {
        kk: [
            ['üìö –ë—ñ–ª—ñ–º –±–µ—Ä—É –±–∞“ì–¥–∞—Ä–ª–∞–º–∞–ª–∞—Ä—ã'],
            ['üìÖ “ö–∞–±—ã–ª–¥–∞—É –º–µ—Ä–∑—ñ–º—ñ', 'üí∞ –û“õ—É –∞“õ—ã—Å—ã'],
            ['üìû –ë–∞–π–ª–∞–Ω—ã—Å', 'üîÑ –°”©–π–ª–µ—Å—É–¥—ñ —Ç–∞–∑–∞–ª–∞—É'],
            ['üåê –¢—ñ–ª–¥—ñ ”©–∑–≥–µ—Ä—Ç—É']
        ],
        ru: [
            ['üìö –û–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã'],
            ['üìÖ –°—Ä–æ–∫–∏ –ø—Ä–∏—ë–º–∞', 'üí∞ –°—Ç–æ–∏–º–æ—Å—Ç—å –æ–±—É—á–µ–Ω–∏—è'],
            ['üìû –ö–æ–Ω—Ç–∞–∫—Ç—ã', 'üîÑ –û—á–∏—Å—Ç–∏—Ç—å –¥–∏–∞–ª–æ–≥'],
            ['üåê –°–º–µ–Ω–∏—Ç—å —è–∑—ã–∫']
        ],
        en: [
            ['üìö Study Programs'],
            ['üìÖ Admission Dates', 'üí∞ Tuition Fee'],
            ['üìû Contacts', 'üîÑ Reset Dialog'],
            ['üåê Change Language']
        ]
    };
    ctx.reply(
        lang === 'kk'
            ? "–°”ô–ª–µ–º–µ—Ç—Å—ñ–∑ –±–µ! üëã –ú–µ–Ω ‚Äî –ê—Ç—ã—Ä–∞—É —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç—ñ–Ω—ñ“£ AI-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç—ñ–º—ñ–Ω.\n–¢”©–º–µ–Ω–¥–µ–≥—ñ –º”ô–∑—ñ—Ä–¥–µ–Ω —Ç–∞“£–¥–∞“£—ã–∑:"
            : lang === 'ru'
            ? "–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ! üëã –Ø ‚Äî AI-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç –ê—Ç—ã—Ä–∞—É—Å–∫–æ–≥–æ —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç–∞.\n–í—ã–±–µ—Ä–∏—Ç–µ –ø—É–Ω–∫—Ç –º–µ–Ω—é –Ω–∏–∂–µ:"
            : "Hello! üëã I'm AI Assistant of Atyrau University.\nChoose a menu option below:",
        { reply_markup: { keyboard: menus[lang], resize_keyboard: true } }
    );
}

// --- /start –∫–æ–º–∞–Ω–¥–∞—Å—ã ---
bot.start((ctx) => {
    const lang = userLanguage.get(ctx.chat.id) || 'kk';
    showMainMenu(ctx, lang);
});

// --- /help ---
bot.help((ctx) => {
    const lang = userLanguage.get(ctx.chat.id) || 'kk';
    const text =
        lang === 'kk'
            ? "–ú–∞“ì–∞–Ω –∫–µ–∑ –∫–µ–ª–≥–µ–Ω —Å“±—Ä–∞“õ “õ–æ–π—ã“£—ã–∑, –º—ã—Å–∞–ª—ã:\n- –ì—Ä–∞–Ω—Ç“õ–∞ —Ç“Ø—Å—É “Ø—à—ñ–Ω –Ω–µ —ñ—Å—Ç–µ—É –∫–µ—Ä–µ–∫?\n- Platonus –∂“Ø–π–µ—Å—ñ–Ω–µ “õ–∞–ª–∞–π –∫—ñ—Ä–µ–º?"
            : lang === 'ru'
            ? "–ó–∞–¥–∞–π—Ç–µ –≤–æ–ø—Ä–æ—Å, –Ω–∞–ø—Ä–∏–º–µ—Ä:\n- –ö–∞–∫ –ø–æ—Å—Ç—É–ø–∏—Ç—å –Ω–∞ –≥—Ä–∞–Ω—Ç?\n- –ö–∞–∫ –≤–æ–π—Ç–∏ –≤ —Å–∏—Å—Ç–µ–º—É Platonus?"
            : "Ask me anything, e.g.:\n- How to apply for a grant?\n- How to access Platonus?";
    ctx.reply(text);
});

// --- /reset ---
bot.command('reset', (ctx) => {
    userContext.delete(ctx.chat.id);
    ctx.reply("üîÑ –î–∏–∞–ª–æ–≥ —Ç–∞–∑–∞–ª–∞–Ω–¥—ã.");
});

// --- /language ---
bot.command('language', (ctx) => {
    ctx.reply(
        "–¢—ñ–ª–¥—ñ —Ç–∞“£–¥–∞“£—ã–∑ / –í—ã–±–µ—Ä–∏—Ç–µ —è–∑—ã–∫ / Choose language:",
        Markup.inlineKeyboard([
            [Markup.button.callback("üá∞üáø “ö–∞–∑–∞“õ—à–∞", 'lang_kk')],
            [Markup.button.callback("üá∑üá∫ –†—É—Å—Å–∫–∏–π", 'lang_ru')],
            [Markup.button.callback("üá¨üáß English", 'lang_en')]
        ])
    );
});

// --- Inline —Ç—ñ–ª —Ç–∞“£–¥–∞—É –±–∞—Ç—ã—Ä–º–∞–ª–∞—Ä—ã ---
bot.action('lang_kk', (ctx) => {
    userLanguage.set(ctx.chat.id, 'kk');
    ctx.editMessageText("‚úÖ –¢—ñ–ª: “ö–∞–∑–∞“õ—à–∞");
    showMainMenu(ctx, 'kk');
});
bot.action('lang_ru', (ctx) => {
    userLanguage.set(ctx.chat.id, 'ru');
    ctx.editMessageText("‚úÖ –Ø–∑—ã–∫: –†—É—Å—Å–∫–∏–π");
    showMainMenu(ctx, 'ru');
});
bot.action('lang_en', (ctx) => {
    userLanguage.set(ctx.chat.id, 'en');
    ctx.editMessageText("‚úÖ Language: English");
    showMainMenu(ctx, 'en');
});

// --- –ù–µ–≥—ñ–∑–≥—ñ –º”ô–∑—ñ—Ä –±–∞—Ç—ã—Ä–º–∞–ª–∞—Ä—ã ---
bot.hears(['üåê –¢—ñ–ª–¥—ñ ”©–∑–≥–µ—Ä—Ç—É', 'üåê –°–º–µ–Ω–∏—Ç—å —è–∑—ã–∫', 'üåê Change Language'], (ctx) => {
    ctx.reply(
        "–¢—ñ–ª–¥—ñ —Ç–∞“£–¥–∞“£—ã–∑ / –í—ã–±–µ—Ä–∏—Ç–µ —è–∑—ã–∫ / Choose language:",
        Markup.inlineKeyboard([
            [Markup.button.callback("üá∞üáø “ö–∞–∑–∞“õ—à–∞", 'lang_kk')],
            [Markup.button.callback("üá∑üá∫ –†—É—Å—Å–∫–∏–π", 'lang_ru')],
            [Markup.button.callback("üá¨üáß English", 'lang_en')]
        ])
    );
});

bot.hears(['üîÑ –°”©–π–ª–µ—Å—É–¥—ñ —Ç–∞–∑–∞–ª–∞—É', 'üîÑ –û—á–∏—Å—Ç–∏—Ç—å –¥–∏–∞–ª–æ–≥', 'üîÑ Reset Dialog'], (ctx) => {
    userContext.delete(ctx.chat.id);
    ctx.reply("üîÑ –î–∏–∞–ª–æ–≥ —Ç–∞–∑–∞–ª–∞–Ω–¥—ã.");
});

bot.hears(['üìö –ë—ñ–ª—ñ–º –±–µ—Ä—É –±–∞“ì–¥–∞—Ä–ª–∞–º–∞–ª–∞—Ä—ã', 'üìö –û–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã', 'üìö Study Programs'], (ctx) => {
    ctx.reply("–°“±—Ä–∞“£—ã–∑, –º—ã—Å–∞–ª—ã: '–ò–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–∞ –º–∞–º–∞–Ω–¥—ã“ì—ã–Ω–∞ “õ–∞–ª–∞–π —Ç“Ø—Å–µ–º?'");
});

bot.hears(['üìÖ “ö–∞–±—ã–ª–¥–∞—É –º–µ—Ä–∑—ñ–º—ñ', 'üìÖ –°—Ä–æ–∫–∏ –ø—Ä–∏—ë–º–∞', 'üìÖ Admission Dates'], (ctx) => {
    ctx.reply("“ö“±–∂–∞—Ç “õ–∞–±—ã–ª–¥–∞—É –º–µ—Ä–∑—ñ–º—ñ: 10 –º–∞—É—Å—ã–º–Ω–∞–Ω 25 —Ç–∞–º—ã–∑“ì–∞ –¥–µ–π—ñ–Ω.");
});

bot.hears(['üí∞ –û“õ—É –∞“õ—ã—Å—ã', 'üí∞ –°—Ç–æ–∏–º–æ—Å—Ç—å –æ–±—É—á–µ–Ω–∏—è', 'üí∞ Tuition Fee'], (ctx) => {
    ctx.reply("–û“õ—É –∞“õ—ã—Å—ã –±–∞“ì–¥–∞—Ä–ª–∞–º–∞“ì–∞ –±–∞–π–ª–∞–Ω—ã—Å—Ç—ã. –û—Ä—Ç–∞—à–∞: 500 000 ‚Äì 700 000 —Ç–µ“£–≥–µ/–∂—ã–ª.");
});

bot.hears(['üìû –ë–∞–π–ª–∞–Ω—ã—Å', 'üìû –ö–æ–Ω—Ç–∞–∫—Ç—ã', 'üìû Contacts'], (ctx) => {
    ctx.reply("“ö–∞–±—ã–ª–¥–∞—É –∫–æ–º–∏—Å—Å–∏—è—Å—ã:\nüìç –ê—Ç—ã—Ä–∞—É “õ., –°—Ç—É–¥–µ–Ω—Ç—Ç–µ—Ä –¥–∞“£“ì—ã–ª—ã, 1\nüìû +7 (7122) 27-63-23\n‚úâÔ∏è kense@asu.edu.kz");
});

// --- –ë–∞—Ä–ª—ã“õ –º”ô—Ç—ñ–Ω–¥–µ—Ä–≥–µ AI –∂–∞—É–∞–ø ---
bot.on('text', async (ctx) => {
    const text = ctx.message.text;
    const lang = userLanguage.get(ctx.chat.id) || 'kk';

    // –ú”ô–∑—ñ—Ä —Å”©–∑–¥–µ—Ä—ñ –±–æ–ª–º–∞—Å–∞ ‚Äî AI –∂–∞—É–∞–ø –±–µ—Ä–µ–¥—ñ
    if (!text.startsWith('üìö') && !text.startsWith('üìÖ') && !text.startsWith('üí∞') && !text.startsWith('üìû') && !text.startsWith('üîÑ') && !text.startsWith('üåê')) {
        console.log(`[${new Date().toLocaleTimeString()}] ${ctx.from.username || 'user'}: ${text}`);

        const waitMsg = await ctx.reply(lang === 'kk' ? "–û–π–ª–∞–Ω—É–¥–∞–º—ã–Ω... üß†" : lang === 'ru' ? "–î—É–º–∞—é... üß†" : "Thinking... üß†");

        try {
            const answer = await askGemini(text, lang);
            await ctx.telegram.editMessageText(ctx.chat.id, waitMsg.message_id, null, answer);
        } catch {
            await ctx.telegram.editMessageText(
                ctx.chat.id,
                waitMsg.message_id,
                null,
                lang === 'kk'
                    ? "–ö–µ—à—ñ—Ä—ñ“£—ñ–∑, “õ–∞—Ç–µ –ø–∞–π–¥–∞ –±–æ–ª–¥—ã. –ö–µ–π—ñ–Ω—ñ—Ä–µ–∫ “õ–∞–π—Ç–∞–ª–∞–ø –∫”©—Ä—ñ“£—ñ–∑ üôè"
                    : lang === 'ru'
                    ? "–ò–∑–≤–∏–Ω–∏—Ç–µ, –ø—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ üôè"
                    : "Sorry, an error occurred. Please try again later üôè"
            );
        }
    }
});

bot.launch();
console.log("‚úÖ Telegram AI-–±–æ—Ç –º”ô–∑—ñ—Ä–º–µ–Ω, —Ç—ñ–ª —Ç–∞“£–¥–∞—É–º–µ–Ω –∂”ô–Ω–µ –±–∞—Ä–ª—ã“õ –∫–æ–º–∞–Ω–¥–∞–ª–∞—Ä–º–µ–Ω —ñ—Å–∫–µ “õ–æ—Å—ã–ª–¥—ã!");
